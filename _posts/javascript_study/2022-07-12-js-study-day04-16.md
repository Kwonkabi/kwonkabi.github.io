---
title: "JS_study_day04: 16ì¥ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸"
excerpt: "ê½‰ì¡ì•„ìŠ¤í¬ë¦½íŠ¸ 4ì¼ì°¨: í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸, ìƒì„±ì í•¨ìˆ˜ì— ì˜í•œ ê°ì²´ ìƒì„±, í•¨ìˆ˜ì™€ ì¼ê¸‰ ê°ì²´, í”„ë¡œí† íƒ€ì…"

categories: javascript_study
tags: [javascript, property attribute]

toc: true
toc_sticky: true

author_profile: true
sidebar: false
---

### ğŸ“¸ ì¦ê±°ìš´ ìŠ¤í„°ë””!

![](../../assets/images/js_study/day04.jpeg)

### 16ì¥. í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸

#### 16.1. ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œ

> **ë‚´ë¶€ ìŠ¬ë¡¯(internal slot)ê³¼ ë‚´ë¶€ ë©”ì„œë“œ(internal method)**ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ êµ¬í˜„ ì•Œê³ ë¦¬ì¦˜ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ ECMAScript ì‚¬ì–‘ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ì‚¬ í”„ë¡œí¼í‹°(pseudo property)ì™€ ì˜ì‚¬ ë©”ì„œë“œ(pseudo method)ë‹¤.

- ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œëŠ” **ì´ì¤‘ ëŒ€ê´„í˜¸**([[...]])ë¡œ ê°ì‹¼ ì´ë¦„ë“¤ì´ë‹¤.
  e.g., [[GetPrototypeOf]], [[SetPrototypeOf]], [[IsExtensible]] ...

- ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ ë‚´ë¶€ ë¡œì§ìœ¼ë¡œ, ì›ì¹™ì ìœ¼ë¡œëŠ” ê°œë°œìê°€ ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•˜ê±°ë‚˜ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤. ë‹¨, ì¼ë¶€ ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë©”ì„œë“œì— í•œí•´ **ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìˆ˜ë‹¨**ì„ ì œê³µí•œë‹¤.

```js
// e.g., [[Prototype]] ë‚´ë¶€ ìŠ¬ë¡¯ì˜ ê²½ìš°, __proto__ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥

const o = {};

o.[[Prototype]] // -> Uncaught SyntaxError: Unexpected token '['

o.__proto__ // -> Object.prototype
```

---

#### 16.2. í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´

> ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ `í”„ë¡œí¼í‹°ì˜ ìƒíƒœ`ë¥¼ ë‚˜íƒ€ë‚´ëŠ” **í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸**ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ìë™ ì •ì˜í•œë‹¤.

- `í”„ë¡œí¼í‹°ì˜ ìƒíƒœ`ë€ **í”„ë¡œí¼í‹°ì˜ ê°’(value)**, **ê°’ì˜ ê°±ì‹  ê°€ëŠ¥ ì—¬ë¶€(writable)**, **ì—´ê±° ê°€ëŠ¥ ì—¬ë¶€(enumarable)**, **ì¬ì •ì˜ ê°€ëŠ¥ ì—¬ë¶€(configrable)**ë¥¼ ë§í•œë‹¤.

- **í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸**ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ê´€ë¦¬í•˜ëŠ” ë‚´ë¶€ ìƒíƒœ ê°’ì¸ **ë‚´ë¶€ ìŠ¬ë¡¯**ì´ë‹¤.
  : [[Value]], [[Writable]], [[Enumarable]], [[Configurable]]

- ë‚´ë¶€ ìŠ¬ë¡¯ì¸ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ, ES8ì—ì„œ ë„ì…ëœ `Object.getOwnPropertyDescriptor` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ëŠ” ìˆë‹¤.

```js
const person = {
  name: "Lee",
};

console.log(Object.getOwnPropertyDescriptor(person, "name"));
// {value: "Lee", writable: true, enumerable: true, configurable: true}
```

- Object.getOwnPropertyDescriptor ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ **ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” ê°ì²´ì˜ ì°¸ì¡°**ë¥¼, **ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì—ëŠ” í”„ë¡œí¼í‹° í‚¤ë¥¼ ë¬¸ìì—´ë¡œ** ì „ë‹¬í•œë‹¤.
- Object.getOwnPropertyDescriptor ë©”ì„œë“œëŠ” í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” **í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„°(Property Descriptor) ê°ì²´ë¥¼ ë°˜í™˜**í•œë‹¤.

- Object.getOwnPropertyDescriptor**s** ë©”ì„œë“œëŠ” _ëª¨ë“ _ í”„ë¡œí¼í‹°ì˜ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ë“¤ì„ ë°˜í™˜í•œë‹¤.

```js
const person = {
  name: "Lee",
};

person.age = 20;

console.log(Object.getOwnPropertyDescriptors(person));
/*
{
  name: {value: "Lee", writable: true, enumerable: true, configurable: true},
  age: {value: 20, writable: true, enumerable: true, configurable: true}
}
*/
```

---

#### 16.3. ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°

í”„ë¡œí¼í‹°ëŠ” ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

- **ë°ì´í„° í”„ë¡œí¼í‹°(data property)**: í‚¤ì™€ ê°’ìœ¼ë¡œ êµ¬ì„±ëœ ì¼ë°˜ì ì¸ í”„ë¡œí¼í‹°. ì§€ê¸ˆê¹Œì§€ ì‚´í´ë³¸ ëª¨ë“  í”„ë¡œí¼í‹°ëŠ” ë°ì´í„° í”„ë¡œí¼í‹°.
- **ì ‘ê·¼ì í”„ë¡œí¼í‹°(accessor property)**: ìì²´ì ìœ¼ë¡œëŠ” ê°’ì„ ê°–ì§€ ì•Šê³  ë‹¤ë¥¸ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ í˜¸ì¶œë˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜(accessor function)ë¡œ êµ¬ì„±ëœ í”„ë¡œí¼í‹°.

##### 16.3.1. ë°ì´í„° í”„ë¡œí¼í‹°

- ë°ì´í„° í”„ë¡œí¼í‹°ëŠ” ë„¤ ê°€ì§€ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤.
- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ **ê¸°ë³¸ê°’**ìœ¼ë¡œ ìë™ ì •ì˜ëœë‹¤.

![](../../assets/images/js_study/16.3.1.png)

```js
const person = {
  name: "Lee",
};

// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ë¥¼ ë°˜í™˜í•¨
console.log(Object.getOwnPropertyDescriptor(person, "name"));
// {value: "Lee", writable: true, enumerable: true, configurable: true}
```

**í”„ë¡œí¼í‹°ê°€ ìƒì„±**ë  ë•Œ **[[Value]]ì˜ ê°’**ì€ **í”„ë¡œí¼í‹° ê°’**ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ê³ , **[[Writable]], [[Enumerable]], [[Configurable]]ì˜ ê°’**ì€ **true**ë¡œ ì´ˆê¸°í™”ëœë‹¤. í”„ë¡œí¼í‹°ë¥¼ **ë™ì  ì¶”ê°€**í•´ë„ ë§ˆì°¬ê°€ì§€ë‹¤.

```js
const person = {
  name: "Lee",
};

// í”„ë¡œí¼í‹° ë™ì  ìƒì„±
person.age = 20;

console.log(Object.getOwnPropertyDescriptors(person));
/*
{
  name: {value: "Lee", writable: true, enumerable: true, configurable: true},
  age: {value: 20, writable: true, enumerable: true, configurable: true}
}
*/
```

##### 16.3.2. ì ‘ê·¼ì í”„ë¡œí¼í‹°

- ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” **ìì²´ì ìœ¼ë¡œëŠ” ê°’ì„ ê°–ì§€ ì•Šê³  ë‹¤ë¥¸ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±**ëœ í”„ë¡œí¼í‹°ë‹¤.
- ì ‘ê·¼ì í”„ë¡œí¼í‹°ë„ ë„¤ ê°€ì§€ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°–ëŠ”ë‹¤.

![](../../assets/images/js_study/16.3.2.1.png)
![](../../assets/images/js_study/16.3.2.2.png)

- **ì ‘ê·¼ì í•¨ìˆ˜**ëŠ” **getter/setter í•¨ìˆ˜**ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.
- ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” ì ‘ê·¼ì í•¨ìˆ˜(getter/setter í•¨ìˆ˜)ë¥¼ ëª¨ë‘ ì •ì˜í•  ìˆ˜ë„ ìˆê³ , í•˜ë‚˜ë§Œ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

```js
const person = {
  // ë°ì´í„° í”„ë¡œí¼í‹°
  firstName: "ì„œí˜•",
  lastName: "ê¶Œ",

  // fullNameì€ ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ ì ‘ê·¼ì í”„ë¡œí¼í‹°
  // getter í•¨ìˆ˜
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },
  // setter í•¨ìˆ˜
  set fullName(name) {
    // ë°°ì—´ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§ í• ë‹¹(êµ¬ì¡° ë¶„í•´ í• ë‹¹)
    [this.firstName, this.lastName] = name.split(" ");
  },
};

// ë°ì´í„° í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡°
console.log(person.firstName + " " + person.lastName); // ì„œí˜• ê¶Œ

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì €ì¥ (ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ê°’ì„ ì €ì¥í•˜ë©´ setter í•¨ìˆ˜ê°€ í˜¸ì¶œë¨)
person.fullName = "ì†Œí˜„ ê¹€";
console.log(person); // {firstName: "ì†Œí˜„", lastName: "ê¹€"}

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•œ í”„ë¡œí¼í‹° ê°’ì˜ ì°¸ì¡° (ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì— ì ‘ê·¼í•˜ë©´ getter í•¨ìˆ˜ê°€ í˜¸ì¶œë¨)
console.log(person.fullName); // ì†Œí˜„ ê¹€

// ë°ì´í„° í”„ë¡œí¼í‹°ì¸ firstNameì€ [[Value]], [[Writable]], [[Enumerable]], [[Configurable]] í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°€ì§
let descriptor = Object.getOwnPropertyDescriptor(person, "firstName");
console.log(descriptor);
// {value: "ì†Œí˜„", writable: true, enumerable: true, configurable: true}

// ì ‘ê·¼ì í”„ë¡œí¼í‹°ì¸ fullNameì€ [[Get]], [[Set]], [[Enumerable]], [[Configurable]] í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê°€ì§
descriptor = Object.getOwnPropertyDescriptor(person, "fullName");
console.log(descriptor);
// {get: Æ’, set: Æ’, enumerable: true, configurable: true}
```

- ì ‘ê·¼ì í”„ë¡œí¼í‹°ëŠ” ìì²´ì ìœ¼ë¡œ ê°’(í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ [[Value]])ì„ ê°€ì§€ì§€ ì•Šìœ¼ë©°, ë‹¤ë§Œ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ ê´€ì—¬í•  ë¿ì´ë‹¤.

- ë‚´ë¶€ ìŠ¬ë¡¯, ë‚´ë¶€ ë©”ì„œë“œ ê´€ì ì—ì„œì˜ ì„¤ëª…
  : ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameìœ¼ë¡œ í”„ë¡œí¼í‹° ê°’ì— ì ‘ê·¼í•˜ë©´ ë‚´ë¶€ì ìœ¼ë¡œ [[Get]] ë‚´ë¶€ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ë‹¤ìŒê³¼ ê°™ì´ ë™ì‘í•œë‹¤.

  1. í”„ë¡œí¼í‹° í‚¤ê°€ ë¬¸ìì—´ ë˜ëŠ” ì‹¬ë²Œì¸ì§€ í™•ì¸í•œë‹¤. ("fullName"ì€ ë¬¸ìì—´ì´ë¯€ë¡œ ìœ íš¨í•¨)
  2. í”„ë¡œí† íƒ€ì… ì²´ì¸ì—ì„œ í”„ë¡œí¼í‹°ë¥¼ ê²€ìƒ‰í•œë‹¤. (person ê°ì²´ì— fullName í”„ë¡œí¼í‹°ê°€ ì¡´ì¬í•¨)
  3. ê²€ìƒ‰ëœ fullName í”„ë¡œí¼í‹°ê°€ ë°ì´í„° í”„ë¡œí¼í‹°ì¸ì§€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ì¸ì§€ í™•ì¸í•œë‹¤. (fullName í”„ë¡œí¼í‹°ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°)
  4. ì ‘ê·¼ì í”„ë¡œí¼í‹° fullNameì˜ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ [[Get]]ì˜ ê°’, getter í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

Object.getOwnPropertyDescriptor ë©”ì„œë“œê°€ ë°˜í™˜í•œ **í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°**ë¥¼ ì‚´í´ë´„ìœ¼ë¡œì¨ ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ êµ¬ë³„í•  ìˆ˜ ìˆë‹¤.

```js
// í•¨ìˆ˜ ê°ì²´ì˜ prototypeì€ ë°ì´í„° í”„ë¡œí¼í‹°
Object.getOwnPropertyDescriptor(function () {}, "prototype");
// {value: {...}, writable: true, enumerable: false, configurable: false}

// ì¼ë°˜ ê°ì²´ì˜ __proto__ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°
Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
// {get: Æ’, set: Æ’, enumerable: false, configurable: true}
```

---

#### 16.4. í”„ë¡œí¼í‹° ì •ì˜

- í”„ë¡œí¼í‹° ì •ì˜ë€,

  1. ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ë©´ì„œ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜,
  2. ê¸°ì¡´ í”„ë¡œí¼í‹°ì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì¬ì •ì˜í•˜ëŠ” ê²ƒ

- í”„ë¡œí¼í‹° ì •ì˜ë¥¼ í†µí•´ ê°ì²´ì˜ **í”„ë¡œí¼í‹°ê°€ ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€ ëª…í™•íˆ ì •ì˜**í•  ìˆ˜ ìˆë‹¤.
  e.g., í”„ë¡œí¼í‹° ê°’ì„ ê°±ì‹  ê°€ëŠ¥í•˜ê²Œ í•  ê²ƒì¸ì§€, í”„ë¡œí¼í‹°ë¥¼ ì—´ê±° ê°€ëŠ¥í•˜ë„ë¡ í•  ê²ƒì¸ì§€, í”„ë¡œí¼í‹°ë¥¼ ì¬ì •ì˜ ê°€ëŠ¥í•˜ë„ë¡ í•  ê²ƒì¸ì§€?

- `Object.defineProperty` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.
  ì¸ìˆ˜ë¡œëŠ” **ê°ì²´ì˜ ì°¸ì¡°**ì™€ **ë°ì´í„° í”„ë¡œí¼í‹°ì˜ í‚¤ì¸ ë¬¸ìì—´**, **í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´**ë¥¼ ì „ë‹¬í•œë‹¤.

```js
const person = {};

// ë°ì´í„° í”„ë¡œí¼í‹° ì •ì˜
Object.defineProperty(person, "firstName", {
  value: "ì„œí˜•",
  writable: true,
  enumerable: true,
  configurable: true,
});

Object.defineProperty(person, "lastName", {
  value: "ê¶Œ",
});

let descriptor = Object.getOwnPropertyDescriptor(person, "firstName");
console.log("firstName", descriptor);
// firstName {value: "ì„œí˜•", writable: true, enumerable: true, configurable: true}

// ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ëˆ„ë½ì‹œí‚¤ë©´ undefined, falseê°€ ê¸°ë³¸ê°’
descriptor = Object.getOwnPropertyDescriptor(person, "lastName");
console.log("lastName", descriptor);
// lastName {value: "ê¶Œ", writable: false, enumerable: false, configurable: false}

// [[Enumerable]]ì˜ ê°’ì´ falseì¸ ê²½ìš°, í•´ë‹¹ í”„ë¡œí¼í‹°ëŠ” for...in ë¬¸ì´ë‚˜ Object.keys ë“±ìœ¼ë¡œ ì—´ê±°í•  ìˆ˜ ì—†ìŒ
// lastName í”„ë¡œí¼í‹°ëŠ” [[Enumerable]]ì˜ ê°’ì´ falseì´ë¯€ë¡œ ì—´ê±°ë˜ì§€ ì•ŠìŒ
console.log(Object.keys(person)); // ["firstName"]

// [[Writable]]ì˜ ê°’ì´ falseì¸ ê²½ìš°, í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ [[Value]]ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŒ
// lastName í”„ë¡œí¼í‹°ëŠ” [[Writable]]ì˜ ê°’ì´ falseì´ë¯€ë¡œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŒ
// ì´ë•Œ ê°’ì„ ë³€ê²½í•˜ë©´ ì—ëŸ¬ ë°œìƒí•˜ì§€ ì•Šê³  ë¬´ì‹œë¨
person.lastName = "ê¹€";

// [[Configurable]]ì˜ ê°’ì´ falseì¸ ê²½ìš° í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì‚­ì œí•  ìˆ˜ ì—†ìŒ
// lastName í”„ë¡œí¼í‹°ëŠ” [[Configurable]]ì˜ ê°’ì´ falseì´ë¯€ë¡œ ì‚­ì œí•  ìˆ˜ ì—†ìŒ
// ì´ë•Œ í”„ë¡œí¼í‹°ë¥¼ ì‚­ì œí•˜ë©´ ì—ëŸ¬ ë°œìƒí•˜ì§€ ì•Šê³  ë¬´ì‹œë¨
delete person.lastName;

// [[Configurable]]ì˜ ê°’ì´ falseì¸ ê²½ìš° í•´ë‹¹ í”„ë¡œí¼í‹°ë¥¼ ì¬ì •ì˜í•  ìˆ˜ ì—†ìŒ
// Object.defineProperty(person, 'lastName', { enumerable: true });
// Uncaught TypeError: Cannot redefine property: lastName

descriptor = Object.getOwnPropertyDescriptor(person, "lastName");
console.log("lastName", descriptor);
// lastName {value: "ê¶Œ", writable: false, enumerable: false, configurable: false}

// ì ‘ê·¼ì í”„ë¡œí¼í‹° ì •ì˜
Object.defineProperty(person, "fullName", {
  // getter í•¨ìˆ˜
  get() {
    return `${this.firstName} ${this.lastName}`;
  },
  // setter í•¨ìˆ˜
  set(name) {
    [this.firstName, this.lastName] = name.split(" ");
  },
  enumerable: true,
  configurable: true,
});

descriptor = Object.getOwnPropertyDescriptor(person, "fullName");
console.log("fullName", descriptor);
// fullName {get: Æ’, set: Æ’, enumerable: true, configurable: true}

person.fullName = "ì†Œí˜„ ê¹€";
console.log(person); // {firstName: "ì†Œí˜„", lastName: "ê¹€"}
```

- `Object.defineProperty` ë©”ì„œë“œë¡œ í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•  ë•Œ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ **ì¼ë¶€ ìƒëµ**í•  ìˆ˜ ìˆë‹¤.
  í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì—ì„œ ìƒëµëœ ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ **ê¸°ë³¸ê°’**ì´ ì ìš©ëœë‹¤.

![](../../assets/images/js_study/16.4.png)

- Object.definePropertie**s** ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•œ ë²ˆì— ì—¬ëŸ¬ ê°œì˜ í”„ë¡œí¼í‹°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```js
const person = {};

Object.defineProperties(person, {
  // ë°ì´í„° í”„ë¡œí¼í‹° ì •ì˜
  firstName: {
    value: "ë‘ì¸",
    writable: true,
    enumerable: true,
    configurable: true,
  },
  lastName: {
    value: "ì²œ",
    writable: true,
    enumerable: true,
    configurable: true,
  },
  // ì ‘ê·¼ì í”„ë¡œí¼í‹° ì •ì˜
  fullName: {
    // getter í•¨ìˆ˜
    get() {
      return `${this.firstName} ${this.lastName}`;
    },
    // setter í•¨ìˆ˜
    set(name) {
      [this.firstName, this.lastName] = name.split(" ");
    },
    enumerable: true,
    configurable: true,
  },
});

person.fullName = "í˜„ë¯¼ ì¡°";
console.log(person); // {firstName: "í˜„ë¯¼", lastName: "ì¡°"}
```

---

#### 16.5. ê°ì²´ ë³€ê²½ ë°©ì§€

- ê°ì²´ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì´ë¯€ë¡œ ì¬í• ë‹¹ ì—†ì´ ì§ì ‘ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
  í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆê³ , í”„ë¡œí¼í‹° ê°’ì„ ê°±ì‹ í•  ìˆ˜ ìˆìœ¼ë©°, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì¬ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.

- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê°ì²´ì˜ ë³€ê²½ì„ ë°©ì§€í•˜ëŠ” ë‹¤ì–‘í•œ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
  ê°ì²´ ë³€ê²½ ë°©ì§€ ë©”ì„œë“œë“¤ì€ ê°ì²´ì˜ ë³€ê²½ì„ ê¸ˆì§€í•˜ëŠ” ê°•ë„ê°€ ë‹¤ë¥´ë‹¤.

![](../../assets/images/js_study/16.5.png)

##### 16.5.1. ê°ì²´ í™•ì¥ ê¸ˆì§€

- `Object.preventExtensions` ë©”ì„œë“œëŠ” **ê°ì²´ì˜ í™•ì¥ì„ ê¸ˆì§€**í•œë‹¤.
  - í™•ì¥ì´ ê¸ˆì§€ëœ ê°ì²´ëŠ” **í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€**ëœë‹¤.
  - í”„ë¡œí¼í‹° ë™ì  ì¶”ê°€ì™€ Object.defineProperty ë©”ì„œë“œë¡œ í”„ë¡œí¼í‹° ì¶”ê°€ ë°©ë²• ëª¨ë‘ ê¸ˆì§€ëœë‹¤.
  - í™•ì¥ì´ ê°€ëŠ¥í•œ ê°ì²´ì¸ì§€ ì—¬ë¶€ëŠ” `Object.isExtensible` ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```js
const person = { name: "Lee" };

// person ê°ì²´ëŠ” í™•ì¥ì´ ê¸ˆì§€ëœ ê°ì²´ê°€ ì•„ë‹˜
console.log(Object.isExtensible(person)); // true

// person ê°ì²´ì˜ í™•ì¥ì„ ê¸ˆì§€í•˜ì—¬ í”„ë¡œí¼í‹° ì¶”ê°€ë¥¼ ê¸ˆì§€í•¨
Object.preventExtensions(person);

// person ê°ì²´ëŠ” í™•ì¥ì´ ê¸ˆì§€ëœ ê°ì²´
console.log(Object.isExtensible(person)); // false

// í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€ë¨
person.age = 20; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì¶”ê°€ëŠ” ê¸ˆì§€ë˜ì§€ë§Œ ì‚­ì œëŠ” ê°€ëŠ¥
delete person.name;
console.log(person); // {}

// í”„ë¡œí¼í‹° ì •ì˜ì— ì˜í•œ í”„ë¡œí¼í‹° ì¶”ê°€ë„ ê¸ˆì§€ë¨
Object.defineProperty(person, "age", { value: 20 });
// TypeError: Cannot define property age, object is not extensible
```

##### 16.5.2. ê°ì²´ ë°€ë´‰

- `Object.seal` ë©”ì„œë“œëŠ” **ê°ì²´ë¥¼ ë°€ë´‰**í•œë‹¤.
  - ê°ì²´ ë°€ë´‰ì€ **í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì‚­ì œ, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ ê¸ˆì§€**ë¥¼ ì˜ë¯¸í•œë‹¤.
  - ë°€ë´‰ëœ ê°ì²´ëŠ” **ì½ê¸°ì™€ ì“°ê¸°ë§Œ ê°€ëŠ¥**í•˜ë‹¤.
  - ë°€ë´‰ëœ ê°ì²´ì¸ì§€ ì—¬ë¶€ëŠ” `Object.isSealed` ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```js
const person = { name: "Lee" };

// person ê°ì²´ëŠ” ë°€ë´‰(seal)ëœ ê°ì²´ê°€ ì•„ë‹˜
console.log(Object.isSealed(person)); // false

// person ê°ì²´ë¥¼ ë°€ë´‰(seal)í•˜ì—¬ í”„ë¡œí¼í‹° ì¶”ê°€, ì‚­ì œ, ì¬ì •ì˜ë¥¼ ê¸ˆì§€í•¨
Object.seal(person);

// person ê°ì²´ëŠ” ë°€ë´‰(seal)ëœ ê°ì²´
console.log(Object.isSealed(person)); // true

// ë°€ë´‰(seal)ëœ ê°ì²´ëŠ” configurableì´ false
console.log(Object.getOwnPropertyDescriptors(person));
/*
{
  name: {value: "Lee", writable: true, enumerable: true, configurable: false},
}
*/

// í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€ë¨
person.age = 20; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì‚­ì œê°€ ê¸ˆì§€ë¨
delete person.name; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ê°’ ê°±ì‹ ì€ ê°€ëŠ¥
person.name = "Kim";
console.log(person); // {name: "Kim"}

// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ê°€ ê¸ˆì§€ë¨
Object.defineProperty(person, "name", { configurable: true });
// TypeError: Cannot redefine property: name
```

##### 16.5.3. ê°ì²´ ë™ê²°

- `Object.freeze` ë©”ì„œë“œëŠ” **ê°ì²´ë¥¼ ë™ê²°**í•œë‹¤.
  - ê°ì²´ ë™ê²°ì´ë€ **í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì‚­ì œ, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ ê¸ˆì§€, í”„ë¡œí¼í‹° ê°’ ê°±ì‹  ê¸ˆì§€**ë¥¼ ì˜ë¯¸í•œë‹¤.
  - ë™ê²°ëœ ê°ì²´ëŠ” **ì½ê¸°ë§Œ ê°€ëŠ¥**í•˜ë‹¤.
  - ë™ê²°ëœ ê°ì²´ì¸ì§€ ì—¬ë¶€ëŠ” `Object.isFrozen` ë©”ì„œë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```js
const person = { name: "Lee" };

// person ê°ì²´ëŠ” ë™ê²°(freeze)ëœ ê°ì²´ê°€ ì•„ë‹˜
console.log(Object.isFrozen(person)); // false

// person ê°ì²´ë¥¼ ë™ê²°(freeze)í•˜ì—¬ í”„ë¡œí¼í‹° ì¶”ê°€, ì‚­ì œ, ì¬ì •ì˜, ì“°ê¸°ë¥¼ ê¸ˆì§€í•¨
Object.freeze(person);

// person ê°ì²´ëŠ” ë™ê²°(freeze)ëœ ê°ì²´
console.log(Object.isFrozen(person)); // true

// ë™ê²°(freeze)ëœ ê°ì²´ëŠ” writableê³¼ configurableì´ false
console.log(Object.getOwnPropertyDescriptors(person));
/*
{
  name: {value: "Lee", writable: false, enumerable: true, configurable: false},
}
*/

// í”„ë¡œí¼í‹° ì¶”ê°€ê°€ ê¸ˆì§€ë¨
person.age = 20; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì‚­ì œê°€ ê¸ˆì§€ë¨
delete person.name; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ê°’ ê°±ì‹ ì´ ê¸ˆì§€ë¨
person.name = "Kim"; // ë¬´ì‹œ. strict modeì—ì„œëŠ” ì—ëŸ¬
console.log(person); // {name: "Lee"}

// í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ê°€ ê¸ˆì§€ë¨
Object.defineProperty(person, "name", { configurable: true });
// TypeError: Cannot redefine property: name
```

##### 16.5.4. ë¶ˆë³€ ê°ì²´

ìœ„ì˜ ë³€ê²½ ë°©ì§€ ë©”ì„œë“œë“¤ì€ **ì–•ì€ ë³€ê²½ ë°©ì§€(shallow only)**ë¡œ ì§ì† í”„ë¡œí¼í‹°ë§Œ ë³€ê²½ì´ ë°©ì§€ë˜ê³ , **ì¤‘ì²© ê°ì²´ê¹Œì§€ëŠ” ì˜í–¥ì„ ì£¼ì§€ëŠ” ëª»í•œë‹¤**.

```js
const person = {
  name: "Lee",
  address: { city: "Seoul" },
};

// ì–•ì€ ê°ì²´ ë™ê²°
Object.freeze(person);

// ì§ì† í”„ë¡œí¼í‹°ë§Œ ë™ê²°í•¨
console.log(Object.isFrozen(person)); // true
// ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•˜ì§€ ëª»í•¨
console.log(Object.isFrozen(person.address)); // false

person.address.city = "Busan";
console.log(person); // {name: "Lee", address: {city: "Busan"}}
```

ê°ì²´ì˜ ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°í•˜ì—¬ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ **ì½ê¸° ì „ìš©ì˜ ë¶ˆë³€ ê°ì²´**ë¥¼ êµ¬í˜„í•˜ë ¤ë©´ ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ê°–ëŠ” ëª¨ë“  í”„ë¡œí¼í‹°ì— ëŒ€í•´ **ì¬ê·€ì ìœ¼ë¡œ Object.freeze ë©”ì„œë“œë¥¼ í˜¸ì¶œ**í•´ì•¼ í•œë‹¤.

```js
function deepFreeze(target) {
  // ê°ì²´ê°€ ì•„ë‹ˆê±°ë‚˜ ë™ê²°ëœ ê°ì²´ëŠ” ë¬´ì‹œí•˜ê³  ê°ì²´ì´ê³  ë™ê²°ë˜ì§€ ì•Šì€ ê°ì²´ë§Œ ë™ê²°í•¨
  if (target && typeof target === "object" && !Object.isFrozen(target)) {
    Object.freeze(target);
    /*
      ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ìˆœíšŒí•˜ë©° ì¬ê·€ì ìœ¼ë¡œ ë™ê²°í•¨
      - Object.keys ë©”ì„œë“œ: ê°ì²´ ìì‹ ì˜ ì—´ê±° ê°€ëŠ¥í•œ í”„ë¡œí¼í‹° í‚¤ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•¨
      - forEach ë©”ì„œë“œ: ë°°ì—´ì„ ìˆœíšŒí•˜ë©° ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•˜ì—¬ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•¨
    */
    Object.keys(target).forEach((key) => deepFreeze(target[key]));
  }
  return target;
}

const person = {
  name: "Lee",
  address: { city: "Seoul" },
};

// ê¹Šì€ ê°ì²´ ë™ê²°
deepFreeze(person);

console.log(Object.isFrozen(person)); // true
// ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²°
console.log(Object.isFrozen(person.address)); // true

person.address.city = "Busan";
console.log(person); // {name: "Lee", address: {city: "Seoul"}}
```
